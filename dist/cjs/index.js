"use strict";var e=require("react/jsx-runtime"),n=require("react"),t=require("axios"),o=function(){return o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},o.apply(this,arguments)};function r(e,n,t,o){return new(t||(t=Promise))((function(r,a){function i(e){try{u(o.next(e))}catch(e){a(e)}}function p(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,p)}u((o=o.apply(e,n||[])).next())}))}function a(e,n){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function p(p){return function(u){return function(p){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&p[0]?o.return:p[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,p[1])).done)return r;switch(o=0,r&&(p=[2&p[0],r.value]),p[0]){case 0:case 1:r=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,o=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==p[0]&&2!==p[0])){i=0;continue}if(3===p[0]&&(!r||p[1]>r[0]&&p[1]<r[3])){i.label=p[1];break}if(6===p[0]&&i.label<r[1]){i.label=r[1],r=p;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(p);break}r[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(e){p=[6,e],o=0}finally{t=r=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,u])}}}"function"==typeof SuppressedError&&SuppressedError;exports.TeraRaidCalc=function(){var i=n.useState([]),p=i[0],u=i[1],c=n.useState(0),s=c[0],l=c[1],d=n.useState(0),f=d[0],m=d[1],y=n.useState(0),_=y[0],v=y[1],h=n.useState(""),k=h[0],g=h[1];n.useEffect((function(){r(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                    query typesPokeAPIquery {\n                        pokemon_v2_type(where: {pokemon_v2_pokemontypes_aggregate: {count: {predicate: {_gt: 0}}}}) {\n                            id\n                            name\n                            pokemon_v2_typeefficacies {\n                                damage_factor\n                                pokemonV2TypeByTargetTypeId {\n                                    id\n                                    name\n                                }\n                            }\n                        }\n                    }\n                "})];case 1:return(e=n.sent().data).data&&u(e.data.pokemon_v2_type),[2]}}))}))}),[]);return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:["Type 1:",e.jsxs("select",o({value:s,onChange:function(e){return l(parseInt(e.target.value))}},{children:[e.jsx("option",o({value:0},{children:"None"})),p.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}))}))]}))]}),e.jsxs("label",{children:["Type 2:",e.jsxs("select",o({value:f,onChange:function(e){return m(parseInt(e.target.value))},disabled:!s},{children:[e.jsx("option",o({value:0},{children:"None"})),p.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}))}))]}))]}),e.jsxs("label",{children:["Tera Type:",e.jsxs("select",o({value:_,onChange:function(e){return v(parseInt(e.target.value))}},{children:[e.jsx("option",o({value:0},{children:"None"})),p.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}))}))]}))]}),e.jsx("input",{type:"button",value:"Calculate",onClick:function(){return r(void 0,void 0,void 0,(function(){var e,n,o,r,i,u,c,l,d,m;return a(this,(function(a){switch(a.label){case 0:for(e=_||s,n=p.map((function(n){var t=0;return t=-n.pokemon_v2_typeefficacies.find((function(n){return n.pokemonV2TypeByTargetTypeId.id===e})).damage_factor,t+=p.find((function(e){return e.id===s})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor,f&&(t+=p.find((function(e){return e.id===f})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor),e!==s&&e!==f&&(t+=p.find((function(n){return n.id===e})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor),{id:n.id,name:n.name,points:t}})).sort((function(e,n){return e.points-n.points})),o=n[0].points,r=[],i=0;n[i].points<=o;)r.push(n[i].id),i++;return 1!==r.length?[3,2]:[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                    query pokemonPokeAPIquery {\n                        pokemon_v2_pokemon(where: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ".concat(r[0],"}}}, pokemon_v2_pokemontypes_aggregate: {count: {predicate: {_eq: 1}}}}, order_by: {pokemon_v2_pokemonstats_aggregate: {sum: {base_stat: desc}}}) {\n                            name\n                        }\n                    }\n                ")})];case 1:return(m=a.sent().data).data&&g(m.data.pokemon_v2_pokemon.map((function(e){return e.name})).join(", ")),[3,6];case 2:for(u=[],c=[],l=0;l<r.length-1;l++)for(d=l+1;d<r.length;d++)u.push(l),u.push(d);a.label=3;case 3:return u.length?[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                        query pokemonPokeAPIquery {\n                            pokemon_v2_pokemon(where: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ".concat(r[0],"}}}, _and: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ").concat(r[1],"}}}}}, order_by: {pokemon_v2_pokemonstats_aggregate: {sum: {base_stat: desc}}}) {\n                                name\n                            }\n                        }\n                    ")})]:[3,5];case 4:return(m=a.sent().data).data&&c.push(m.data.pokemon_v2_pokemon.map((function(e){return e.name})).join(", ")),u.splice(0,2),[3,3];case 5:g(c.join(", ")),a.label=6;case 6:return[2]}}))}))},disabled:!s})]}),e.jsxs("p",{children:[k&&"Recommended pkmn: "," ",k]})]})};
//# sourceMappingURL=index.js.map

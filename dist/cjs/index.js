"use strict";var e=require("react/jsx-runtime"),n=require("react"),t=require("axios"),o=function(){return o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},o.apply(this,arguments)};function r(e,n,t,o){return new(t||(t=Promise))((function(r,a){function i(e){try{p(o.next(e))}catch(e){a(e)}}function u(e){try{p(o.throw(e))}catch(e){a(e)}}function p(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}p((o=o.apply(e,n||[])).next())}))}function a(e,n){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(p){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,o=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(e){u=[6,e],o=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,p])}}}"function"==typeof SuppressedError&&SuppressedError;exports.TeraRaidCalc=function(){var i=n.useState([]),u=i[0],p=i[1],c=n.useState(0),s=c[0],d=c[1],l=n.useState(0),f=l[0],m=l[1],v=n.useState(0),y=v[0],h=v[1],_=n.useState([]),k=_[0],g=_[1];n.useEffect((function(){r(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                    query typesPokeAPIquery {\n                        pokemon_v2_type(where: {pokemon_v2_pokemontypes_aggregate: {count: {predicate: {_gt: 0}}}}) {\n                            id\n                            name\n                            pokemon_v2_typeefficacies {\n                                damage_factor\n                                pokemonV2TypeByTargetTypeId {\n                                    id\n                                    name\n                                }\n                            }\n                        }\n                    }\n                "})];case 1:return(e=n.sent().data).data&&p(e.data.pokemon_v2_type),[2]}}))}))}),[]);return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:["Type 1:",e.jsxs("select",o({value:s,onChange:function(e){return d(parseInt(e.target.value))}},{children:[e.jsx("option",o({value:0},{children:"None"})),u.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}),"type1-"+n.id)}))]}))]}),e.jsxs("label",{children:["Type 2:",e.jsxs("select",o({value:f,onChange:function(e){return m(parseInt(e.target.value))},disabled:!s},{children:[e.jsx("option",o({value:0},{children:"None"})),u.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}),"type2-"+n.id)}))]}))]}),e.jsxs("label",{children:["Tera Type:",e.jsxs("select",o({value:y,onChange:function(e){return h(parseInt(e.target.value))}},{children:[e.jsx("option",o({value:0},{children:"None"})),u.map((function(n){return e.jsx("option",o({value:n.id},{children:n.name}),"teraType-"+n.id)}))]}))]}),e.jsx("input",{type:"button",value:"Calculate",onClick:function(){return r(void 0,void 0,void 0,(function(){var e,n,o,r,i,p,c,d,l,m,v,h,_;return a(this,(function(a){switch(a.label){case 0:for(e=y||s,n=u.map((function(n){var t=0;return t=-n.pokemon_v2_typeefficacies.find((function(n){return n.pokemonV2TypeByTargetTypeId.id===e})).damage_factor,t+=u.find((function(e){return e.id===s})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor,f&&(t+=u.find((function(e){return e.id===f})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor),e!==s&&e!==f&&(t+=u.find((function(n){return n.id===e})).pokemon_v2_typeefficacies.find((function(e){return e.pokemonV2TypeByTargetTypeId.id===n.id})).damage_factor),{id:n.id,name:n.name,points:t}})).sort((function(e,n){return e.points-n.points})),o=n[0].points,r=[],i=0;n[i].points<=o;)r.push(n[i].id),i++;return 1!==r.length?[3,2]:[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                    query pokemonPokeAPIquery {\n                        pokemon_v2_pokemon(where: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ".concat(r[0],"}}}, pokemon_v2_pokemontypes_aggregate: {count: {predicate: {_eq: 1}}}}, order_by: {pokemon_v2_pokemonstats_aggregate: {sum: {base_stat: desc}}}) {\n                            name\n                        }\n                    }\n                ")})];case 1:return(m=a.sent().data).data&&g([(null===(v=u.find((function(e){return e.id===r[0]})))||void 0===v?void 0:v.name)+": "+m.data.pokemon_v2_pokemon.map((function(e){return e.name})).join(", ")]),[3,6];case 2:for(p=[],c=[],d=0;d<r.length-1;d++)for(l=d+1;l<r.length;l++)p.push(r[d]),p.push(r[l]);a.label=3;case 3:return p.length?[4,t.post("https://beta.pokeapi.co/graphql/v1beta",{query:"\n                        query pokemonPokeAPIquery {\n                            pokemon_v2_pokemon(where: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ".concat(p[0],"}}}, _and: {pokemon_v2_pokemontypes: {pokemon_v2_type: {id: {_eq: ").concat(p[1],"}}}}}, order_by: {pokemon_v2_pokemonstats_aggregate: {sum: {base_stat: desc}}}) {\n                                name\n                            }\n                        }\n                    ")})]:[3,5];case 4:return(m=a.sent().data).data&&c.push((null===(h=u.find((function(e){return e.id===p[0]})))||void 0===h?void 0:h.name)+" + "+(null===(_=u.find((function(e){return e.id===p[1]})))||void 0===_?void 0:_.name)+": "+m.data.pokemon_v2_pokemon.map((function(e){return e.name})).join(", ")),p.splice(0,2),[3,3];case 5:g(c),a.label=6;case 6:return[2]}}))}))},disabled:!s})]}),e.jsxs("div",{children:[e.jsx("h5",{children:k.length>0&&"Recommended pkmn: "}),k.map((function(n){return e.jsx("p",{children:n},n.replaceAll(" ",""))}))]})]})};
//# sourceMappingURL=index.js.map
